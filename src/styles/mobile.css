/* 响应式布局优化 */

/* 超大屏幕优化 (≥1600px) */
@media (min-width: 1600px) {
  .calculator-container {
    max-width: 1400px !important;
    margin: 0 auto !important;
  }
  
  .ant-layout-content {
    padding: 32px !important;
  }
}

/* 大屏幕优化 (1200px - 1600px) */
@media (min-width: 1200px) and (max-width: 1599px) {
  .calculator-container {
    max-width: 1200px !important;
    margin: 0 auto !important;
  }
  
  .ant-layout-content {
    padding: 24px !important;
  }
}

/* 中等屏幕优化 (992px - 1199px) */
@media (min-width: 992px) and (max-width: 1199px) {
  .calculator-container {
    max-width: 100% !important;
    padding: 0 16px !important;
  }
  
  .ant-layout-content {
    padding: 20px !important;
  }
}

/* 平板端优化 (768px - 991px) */
@media (min-width: 768px) and (max-width: 991px) {
  .ant-layout-header > div {
    padding: 0 16px !important;
  }
  
  .header-title-main {
    font-size: 18px !important;
  }
  
  .header-title-sub {
    font-size: 13px !important;
  }
  
  .calculator-container {
    padding: 0 12px !important;
  }
  
  .ant-layout-content {
    padding: 16px !important;
  }
}

/* 移动端基础样式 */
@media (max-width: 768px) {
  /* 动态间距变量 - 紧凑版 */
  :root {
    --mobile-spacing-xs: clamp(2px, 0.5vw, 3px);
    --mobile-spacing-sm: clamp(3px, 0.8vw, 5px);
    --mobile-spacing-md: clamp(5px, 1.2vw, 8px);
    --mobile-spacing-lg: clamp(8px, 1.8vw, 12px);
    --mobile-spacing-xl: clamp(12px, 2.5vw, 16px);
  }

  /* Header移动端优化 */
  .ant-layout-header {
    padding: 0 !important;
    height: auto !important;
    min-height: 56px !important;
  }

  .ant-layout-header > div {
    padding: 0 var(--mobile-spacing-md) !important;
  }

  /* 标题容器移动端优化 */
  .header-title-container {
    flex: 1 !important;
    min-width: 0 !important;
  }

  .header-title-main {
    font-size: clamp(14px, 3.5vw, 16px) !important;
    line-height: 1.2 !important;
    font-weight: 600 !important;
  }

  .header-title-sub {
    font-size: clamp(11px, 2.5vw, 13px) !important;
    line-height: 1.2 !important;
    margin-top: -1px !important;
  }

  /* Footer移动端优化 */
  .ant-layout-footer {
    padding: var(--mobile-spacing-md) var(--mobile-spacing-lg) !important;
    text-align: center !important;
  }

  .ant-layout-footer .ant-space {
    flex-wrap: wrap !important;
    justify-content: center !important;
  }

  .ant-layout-footer .ant-typography {
    font-size: clamp(12px, 2.5vw, 14px) !important;
  }

  /* 计算器容器移动端优化 */
  .calculator-container {
    padding: 0 !important;
  }

  /* 减少整体内边距 */
  .ant-layout-content {
    padding: var(--mobile-spacing-md) !important;
  }

  /* 取消移动端sticky定位 */
  .mobile-sticky-disable {
    position: static !important;
    max-height: none !important;
    overflow-y: visible !important;
  }

  /* 移动端等待状态优化 */
  .calculator-container .ant-col:last-child > div {
    min-height: 300px !important;
    height: auto !important;
    max-height: none !important;
  }

  /* 确保Header在移动端也是全宽 */
  .ant-layout-header {
    width: 100vw !important;
    left: 50% !important;
    right: 50% !important;
    margin-left: -50vw !important;
    margin-right: -50vw !important;
  }

  /* 计算器主容器 */
  .calculator-container {
    padding: 0 8px !important;
  }

  /* 表单卡片移动端优化 */
  .calculation-card {
    margin-bottom: 16px !important;
    border-radius: 8px !important;
  }

  .calculation-card .ant-card-head {
    padding: 12px 16px !important;
    min-height: auto !important;
  }

  .calculation-card .ant-card-head-title {
    font-size: 16px !important;
    font-weight: 600 !important;
  }

  .calculation-card .ant-card-body {
    padding: var(--mobile-spacing-lg) !important;
  }

  /* 表单区域样式 */
  .form-section {
    margin-bottom: var(--mobile-spacing-lg) !important;
  }

  .form-section-title {
    font-size: clamp(14px, 3vw, 16px) !important;
    font-weight: 600 !important;
    color: #262626 !important;
    margin-bottom: var(--mobile-spacing-sm) !important;
    padding-bottom: var(--mobile-spacing-xs) !important;
    border-bottom: 1px solid #f0f0f0 !important;
  }

  /* 表单项间距优化 */
  .ant-form-item {
    margin-bottom: var(--mobile-spacing-md) !important;
  }

  .ant-form-item-label {
    padding-bottom: var(--mobile-spacing-xs) !important;
  }

  .ant-form-item-label > label {
    height: auto !important;
    line-height: 1.3 !important;
    font-size: clamp(13px, 2.8vw, 15px) !important;
  }

  /* 输入框移动端优化 */
  .ant-input {
    height: 38px !important;
    font-size: 16px !important;
    border-radius: 6px !important;
    padding: 6px 11px !important;
  }

  .ant-input-affix-wrapper {
    height: 38px !important;
    font-size: 16px !important;
    border-radius: 6px !important;
    padding: 6px 11px !important;
  }

  .ant-picker {
    height: 38px !important;
    font-size: 16px !important;
    border-radius: 6px !important;
    padding: 6px 11px !important;
  }

  /* 按钮移动端优化 */
  .ant-btn {
    height: 38px !important;
    font-size: 15px !important;
    border-radius: 6px !important;
    font-weight: 500 !important;
    padding: 6px 15px !important;
  }

  .ant-btn-lg {
    height: 42px !important;
    font-size: 16px !important;
    padding: 8px 18px !important;
  }

  /* 结果卡片移动端优化 */
  .result-card {
    margin-bottom: 12px !important;
    text-align: center !important;
  }

  .result-card .ant-card-body {
    padding: 16px 12px !important;
  }

  .result-value {
    font-size: 20px !important;
    font-weight: bold !important;
    margin-bottom: 4px !important;
  }

  .result-label {
    font-size: 12px !important;
    color: #8c8c8c !important;
  }

  /* 统计数字移动端优化 */
  .ant-statistic {
    text-align: center !important;
  }

  .ant-statistic-title {
    font-size: 13px !important;
    margin-bottom: 6px !important;
  }

  .ant-statistic-content {
    font-size: 18px !important;
    line-height: 1.2 !important;
  }

  .ant-statistic-content-value {
    font-size: 18px !important;
  }

  .ant-statistic-content-suffix {
    font-size: 14px !important;
  }

  /* 描述列表移动端优化 */
  .ant-descriptions-item-label {
    font-size: 13px !important;
    font-weight: 500 !important;
  }

  .ant-descriptions-item-content {
    font-size: 13px !important;
  }

  /* 进度条移动端优化 */
  .ant-progress-text {
    font-size: 12px !important;
  }

  /* 提示框移动端优化 */
  .ant-alert {
    font-size: 14px !important;
    border-radius: 6px !important;
  }

  .ant-alert-message {
    font-size: 14px !important;
    font-weight: 500 !important;
  }

  .ant-alert-description {
    font-size: 13px !important;
    line-height: 1.4 !important;
  }

  /* 折叠面板移动端优化 */
  .ant-collapse {
    margin-bottom: 12px !important;
  }

  .ant-collapse-header {
    padding: 10px 16px !important;
    font-size: 15px !important;
  }

  .ant-collapse-content-box {
    padding: 12px !important;
  }

  /* 按钮组间距优化 */
  .ant-space-vertical {
    gap: 8px !important;
  }

  .ant-space-horizontal {
    gap: 8px !important;
  }

  /* 开关组件移动端优化 */
  .ant-switch {
    min-width: 44px !important;
    height: 22px !important;
  }

  /* 工具提示图标移动端优化 */
  .anticon {
    font-size: 14px !important;
  }

  /* 间距调整 */
  .ant-space-item {
    margin-right: 8px !important;
  }

  /* 栅格间距优化 */
  .ant-row {
    margin-left: -8px !important;
    margin-right: -8px !important;
  }

  .ant-col {
    padding-left: 8px !important;
    padding-right: 8px !important;
  }
}

/* 小屏手机优化 (≤576px) */
@media (max-width: 576px) {
  /* 小屏动态间距变量 - 超紧凑版 */
  :root {
    --mobile-spacing-xs: clamp(1px, 0.3vw, 2px);
    --mobile-spacing-sm: clamp(2px, 0.6vw, 4px);
    --mobile-spacing-md: clamp(4px, 1vw, 6px);
    --mobile-spacing-lg: clamp(6px, 1.5vw, 10px);
    --mobile-spacing-xl: clamp(10px, 2.2vw, 14px);
  }

  /* 进一步减少内边距 */
  .calculator-container {
    padding: 0 var(--mobile-spacing-xs) !important;
  }

  .calculation-card {
    margin-bottom: var(--mobile-spacing-md) !important;
  }

  .calculation-card .ant-card-body {
    padding: var(--mobile-spacing-md) !important;
  }

  /* 表单元素更紧凑 */
  .form-section {
    margin-bottom: var(--mobile-spacing-md) !important;
  }

  .form-section-title {
    margin-bottom: var(--mobile-spacing-sm) !important;
    padding-bottom: var(--mobile-spacing-xs) !important;
    font-size: clamp(13px, 2.8vw, 15px) !important;
  }

  .ant-form-item {
    margin-bottom: var(--mobile-spacing-sm) !important;
  }

  .ant-form-item-label {
    padding-bottom: var(--mobile-spacing-xs) !important;
  }

  .ant-form-item-label > label {
    font-size: clamp(12px, 2.5vw, 14px) !important;
  }

  /* 结果展示更紧凑 */
  .result-card .ant-card-body {
    padding: 12px 8px !important;
  }

  .ant-statistic-content {
    font-size: 16px !important;
  }

  .ant-statistic-content-value {
    font-size: 16px !important;
  }

  /* 描述列表小屏优化 */
  .ant-descriptions-small .ant-descriptions-item-label,
  .ant-descriptions-small .ant-descriptions-item-content {
    padding: 8px !important;
    font-size: 12px !important;
  }
}

/* 横屏手机和小平板 (768px - 992px) */
@media (min-width: 768px) and (max-width: 992px) {
  .calculator-container {
    padding: 0 16px !important;
  }

  .ant-statistic-content {
    font-size: 20px !important;
  }

  .ant-statistic-content-value {
    font-size: 20px !important;
  }
}

/* 触摸设备优化 */
@media (hover: none) and (pointer: coarse) {
  /* 增大可点击区域 */
  .ant-btn {
    min-height: 38px !important;
    padding: 8px 15px !important;
  }

  .ant-switch {
    min-width: 44px !important;
    height: 22px !important;
  }

  /* 优化表单焦点状态 */
  .ant-input:focus,
  .ant-input-affix-wrapper:focus,
  .ant-picker:focus {
    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2) !important;
  }
}

/* 固定定位优化 */
@media (max-width: 768px) {
  /* 移动端不使用sticky定位 */
  .mobile-sticky-disable {
    position: static !important;
  }
}

/* 安全区域适配 (iPhone X等) */
@media (max-width: 768px) {
  @supports (padding: max(0px)) {
    .calculator-container {
      padding-left: max(8px, env(safe-area-inset-left)) !important;
      padding-right: max(8px, env(safe-area-inset-right)) !important;
      padding-bottom: max(16px, env(safe-area-inset-bottom)) !important;
    }
  }
}